<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Информация о студенте</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="container">
        <h1>Информация о студенте</h1>

        <div class="student-info">
            <h2>{{ student.first_name }} {{ student.last_name }}</h2>
            <p><strong>Класс:</strong> {{ student.class_name }}</p>
            <p><strong>Средний балл:</strong> {{ student.average_score }}</p>
            <p><strong>Звание:</strong> {{ student.title }}</p>
            <p><em>{{ student.title_description }}</em></p>
        </div>

        <div class="student-grades">
            <h3>Текущие оценки</h3>

            <table>
                <thead>
                    <tr>
                        <th>Предмет</th>
                        <th>Оценки</th>
                        <th>Средний балл</th>
                    </tr>
                </thead>
                <tbody>
                    {% for subject in current_grades %}
                    <tr>
                        <td>{{ subject['subj_name'] }}</td>
                        <td>{{ ", ".join(subject['marks']) }}</td>
                        <td>{{ subject['average'] }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <div class="student-history">
            <h3>История успеваемости</h3>
            <table>
                <thead>
                    <tr>
                        <th>Период</th>
                        <th>Средний балл</th>
                        <th>Изменение</th>
                    </tr>
                </thead>
                <tbody>
                    {% for history in student.history %}
                    <tr>
                        <td>{{ history.period }}</td>
                        <td>{{ history.average_score }}</td>
                        <td>{{ 'Улучшение' if history.improved else 'Без изменений' }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        <a href="{{ url_for('main.index') }}">Вернуться на главную</a>
    </div>
</body>
</html>
